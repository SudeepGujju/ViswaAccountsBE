(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BJHQ:function(t,e,r){"use strict";r.r(e),r.d(e,"UsersModule",function(){return ft});var o=r("ofXK"),i=r("tyNb"),s=r("auXs"),a=r("M9IT"),n=r("Dh3D"),c=r("+0xr"),b=r("WQoS"),l=r("fXoL"),m=r("o0su"),u=r("W/PH"),d=r("kmnG"),h=r("qFsG"),p=r("bTqV"),f=r("Qu3c"),g=r("NFeN");function y(t,e){1&t&&(l.Rb(0,"th",21),l.yc(1," Login ID "),l.Qb())}function R(t,e){if(1&t&&(l.Rb(0,"td",22),l.yc(1),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.zc(t.loginID)}}function Q(t,e){1&t&&(l.Rb(0,"th",21),l.yc(1," User Name "),l.Qb())}function w(t,e){if(1&t&&(l.Rb(0,"td",22),l.yc(1),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.zc(t.username)}}function v(t,e){1&t&&(l.Rb(0,"th",21),l.yc(1," Password "),l.Qb())}function C(t,e){if(1&t&&(l.Rb(0,"td",22),l.yc(1),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.zc(t.password)}}function D(t,e){1&t&&(l.Rb(0,"th",21),l.yc(1," Status "),l.Qb())}function A(t,e){if(1&t&&(l.Rb(0,"td",22),l.yc(1),l.Qb()),2&t){const t=e.$implicit,r=l.cc();l.Ab(1),l.zc(r.userStatus[t.status])}}function I(t,e){1&t&&(l.Rb(0,"th",23),l.yc(1," Operations "),l.Qb())}function L(t,e){if(1&t){const t=l.Sb();l.Rb(0,"button",27),l.Yb("click",function(){l.oc(t);const e=l.cc().$implicit;return l.cc().editPermissions(e)}),l.Rb(1,"mat-icon"),l.yc(2,"settings"),l.Qb(),l.Qb()}}function S(t,e){if(1&t){const t=l.Sb();l.Rb(0,"button",28),l.Yb("click",function(){l.oc(t);const e=l.cc().$implicit;return l.cc().edit(e)}),l.Rb(1,"mat-icon"),l.yc(2,"edit"),l.Qb(),l.Qb()}}function E(t,e){if(1&t){const t=l.Sb();l.Rb(0,"button",29),l.Yb("click",function(){l.oc(t);const e=l.cc().$implicit;return l.cc().delete(e)}),l.Rb(1,"mat-icon"),l.yc(2,"delete"),l.Qb(),l.Qb()}}function k(t,e){if(1&t&&(l.Rb(0,"td",22),l.wc(1,L,3,0,"button",24),l.wc(2,S,3,0,"button",25),l.wc(3,E,3,0,"button",26),l.Qb()),2&t){const t=l.cc();l.Ab(1),l.ic("ngIf",t.userPersmissions.editUserPersmissions),l.Ab(1),l.ic("ngIf",t.userPersmissions.editUser),l.Ab(1),l.ic("ngIf",t.userPersmissions.deleteUser)}}function P(t,e){if(1&t&&(l.Rb(0,"td",30),l.yc(1," No Data Available "),l.Qb()),2&t){const t=l.cc();l.Bb("colspan",t.columnsToDisplay.length)}}function x(t,e){1&t&&l.Mb(0,"tr",31)}function M(t,e){1&t&&l.Mb(0,"tr",32)}function N(t,e){if(1&t&&l.Mb(0,"tr",33),2&t){const t=l.cc();l.ic("hidden",!(0===t.usersListDS.filteredData.length))}}const F=function(){return["noData"]},U=function(){return[5,10,20]};let G=(()=>{class t{constructor(t,e,r,o,i){this.userSrvc=t,this.authSrvc=e,this.alrtSrvc=r,this.router=o,this.route=i,this.userStatus=b.h,this.columnsToDisplay=["loginID","username","password","status"],this.userPersmissions=null}ngOnInit(){this.userPersmissions=this.authSrvc.userPersmissions,(this.userPersmissions.editUserPersmissions||this.userPersmissions.editUser||this.userPersmissions.deleteUser)&&this.columnsToDisplay.push("oprts"),this.usersListDS=new c.o,this.refresh(),this.userListUpdateSubscription=this.userSrvc.listUpdate$.subscribe(()=>{this.refresh()})}ngAfterViewInit(){this.usersListDS.paginator=this.paginator,this.usersListDS.sort=this.sort}ngOnDestroy(){this.userListUpdateSubscription.unsubscribe()}applyFilter(t){this.usersListDS.filter=t}trackList(t,e){return e._id}refresh(){this.userSrvc.getList().subscribe(t=>{this.usersListDS.data=t},t=>{this.alrtSrvc.showErrorAlert(t)})}edit(t){this.router.navigate([{outlets:{dialog:["dialog","user","edit",t._id]}}],{relativeTo:this.route.root,skipLocationChange:!0})}editPermissions(t){this.router.navigate([{outlets:{dialog:["dialog","user","permission",t._id]}}],{relativeTo:this.route.root,skipLocationChange:!0})}delete(t){this.alrtSrvc.showConfirmAlert("Do you want to delete "+t.username).afterClosed().subscribe(e=>{e&&this.userSrvc.delete(t._id).subscribe(t=>{this.refresh()},t=>{this.alrtSrvc.showErrorAlert(t)})})}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(m.j),l.Lb(m.b),l.Lb(u.b),l.Lb(i.b),l.Lb(i.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-users-list"]],viewQuery:function(t,e){if(1&t&&(l.Dc(a.a,!0),l.Dc(n.a,!0)),2&t){let t;l.lc(t=l.Zb())&&(e.paginator=t.first),l.lc(t=l.Zb())&&(e.sort=t.first)}},decls:34,vars:9,consts:[[1,"flex-space","align-left"],[1,"mat-title","mr-05"],[1,"space-7","mr-05"],["matInput","","type","text",3,"keyup"],["type","button","mat-mini-fab","","color","primary","matTooltip","Refresh List",3,"click"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","trackBy"],["matColumnDef","loginID"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","password"],["matColumnDef","status"],["matColumnDef","oprts"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","noData"],["mat-footer-cell","",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","style","text-align: center;",3,"hidden",4,"matFooterRowDef"],["pageSize","10","showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["type","button","mat-icon-button","","matTooltip","Edit Permissions",3,"click",4,"ngIf"],["type","button","mat-icon-button","","matTooltip","Edit",3,"click",4,"ngIf"],["type","button","mat-icon-button","","matTooltip","Delete",3,"click",4,"ngIf"],["type","button","mat-icon-button","","matTooltip","Edit Permissions",3,"click"],["type","button","mat-icon-button","","matTooltip","Edit",3,"click"],["type","button","mat-icon-button","","matTooltip","Delete",3,"click"],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row","",2,"text-align","center",3,"hidden"]],template:function(t,e){1&t&&(l.Rb(0,"div",0),l.Rb(1,"div",1),l.yc(2," Users List "),l.Qb(),l.Rb(3,"mat-form-field",2),l.Rb(4,"mat-label"),l.yc(5,"Filter"),l.Qb(),l.Rb(6,"input",3),l.Yb("keyup",function(t){return e.applyFilter(t.target.value)}),l.Qb(),l.Qb(),l.Rb(7,"div"),l.Rb(8,"button",4),l.Yb("click",function(){return e.refresh()}),l.Rb(9,"mat-icon"),l.yc(10,"refresh"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(11,"div",5),l.Rb(12,"table",6),l.Pb(13,7),l.wc(14,y,2,0,"th",8),l.wc(15,R,2,1,"td",9),l.Ob(),l.Pb(16,10),l.wc(17,Q,2,0,"th",8),l.wc(18,w,2,1,"td",9),l.Ob(),l.Pb(19,11),l.wc(20,v,2,0,"th",8),l.wc(21,C,2,1,"td",9),l.Ob(),l.Pb(22,12),l.wc(23,D,2,0,"th",8),l.wc(24,A,2,1,"td",9),l.Ob(),l.Pb(25,13),l.wc(26,I,2,0,"th",14),l.wc(27,k,4,3,"td",9),l.Ob(),l.Pb(28,15),l.wc(29,P,2,1,"td",16),l.Ob(),l.wc(30,x,1,0,"tr",17),l.wc(31,M,1,0,"tr",18),l.wc(32,N,1,1,"tr",19),l.Qb(),l.Mb(33,"mat-paginator",20),l.Qb()),2&t&&(l.Ab(12),l.ic("dataSource",e.usersListDS)("trackBy",e.trackList),l.Ab(18),l.ic("matHeaderRowDef",e.columnsToDisplay)("matHeaderRowDefSticky",!0),l.Ab(1),l.ic("matRowDefColumns",e.columnsToDisplay),l.Ab(1),l.ic("matFooterRowDef",l.jc(7,F)),l.Ab(1),l.ic("pageSizeOptions",l.jc(8,U)))},directives:[d.c,d.g,h.a,p.a,f.a,g.a,c.n,n.a,c.c,c.i,c.b,c.e,c.k,c.m,c.g,a.a,c.h,n.b,c.a,o.l,c.d,c.j,c.l,c.f],styles:[".mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}"]}),t})();var O=r("U7T7"),T=r("3Pt+"),q=r("0IaG"),V=r("d3UM"),B=r("FKr1");function j(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Enter login ID "),l.Qb())}function _(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Login ID must be 3-15 characters "),l.Qb())}function Y(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Login ID already exists "),l.Qb())}function H(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Enter username "),l.Qb())}function z(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Username must be 1-30 characters "),l.Qb())}function $(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Username already exists "),l.Qb())}function J(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Enter phone number "),l.Qb())}function X(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Phone number must be 10 characters "),l.Qb())}function K(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Enter password "),l.Qb())}function W(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Password must be 8-15 characters "),l.Qb())}function Z(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Enter confirm password "),l.Qb())}function tt(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Passwords do not match "),l.Qb())}function et(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Select year "),l.Qb())}function rt(t,e){1&t&&(l.Rb(0,"mat-error"),l.yc(1," Select User Status "),l.Qb())}let ot=(()=>{class t{constructor(t,e,r,o,i){this.fb=t,this.userSrvc=e,this.alrtSrvc=r,this.dialogRef=o,this.data=i,this.userStatus=b.h,this.pageMode="",this.isCreateMode=!1,this.inProgress=!1}ngOnInit(){this.passwordErrorStateMatcher=new it,this.pageMode=O.a.PageModeMapping(this.data.pageMode),this.data.pageMode===O.a.PAGE_MODE.CREATE&&(this.isCreateMode=!0),this.registrationForm=this.fb.group({_id:[""],username:["",[T.w.required,T.w.minLength(1),T.w.maxLength(30)]],loginID:["",[T.w.required,T.w.minLength(3),T.w.maxLength(15)]],phone:["",[T.w.required,T.w.minLength(10),T.w.maxLength(10)]],password:["",[T.w.required,T.w.minLength(8),T.w.maxLength(15)]],cpassword:["",[T.w.required]],finYear:["2020-2021",[T.w.required]],status:[this.userStatus.Active,[T.w.required]]},{validators:[this.comaprePassword("password","cpassword")]}),this.isCreateMode||this.registrationForm.patchValue(this.data.details)}get username(){return this.registrationForm.get("username")}get loginID(){return this.registrationForm.get("loginID")}get phone(){return this.registrationForm.get("phone")}get password(){return this.registrationForm.get("password")}get cpassword(){return this.registrationForm.get("cpassword")}get finYear(){return this.registrationForm.get("finYear")}get status(){return this.registrationForm.get("status")}save(){if(!this.registrationForm.valid)return!1;this.isCreateMode?this.createUser():this.editUser()}createUser(){this.inProgress=!0;const t=Object.assign({},this.registrationForm.value);delete t.cpassword,delete t._id,this.userSrvc.save(t).subscribe(t=>{this.inProgress=!1,this.alrtSrvc.showSuccessAlert(t).afterClosed().subscribe(()=>{this.dialogRef.close(),this.userSrvc.notifyToUpdateList()})},t=>{this.inProgress=!1,t.includes("Login ID already exists")?this.loginID.setErrors({userAlreadyExists:!0}):this.alrtSrvc.showErrorAlert(t)})}editUser(){this.inProgress=!0;const t=Object.assign({},this.registrationForm.value),e=t._id;delete t.cpassword,delete t._id,this.userSrvc.update(e,t).subscribe(t=>{this.inProgress=!1,this.alrtSrvc.showSuccessAlert(t).afterClosed().subscribe(()=>{this.dialogRef.close(),this.userSrvc.notifyToUpdateList()})},t=>{this.inProgress=!1,this.alrtSrvc.showErrorAlert(t)})}comaprePassword(t,e){return r=>{const o=r.get(t),i=r.get(e);return o.value&&i.value&&o.value!==i.value?{pswdNotMatch:!0}:null}}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(T.e),l.Lb(m.j),l.Lb(u.b),l.Lb(q.g),l.Lb(q.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-user-details"]],decls:69,vars:23,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title","",1,"flex-title"],["mat-dialog-close",""],["type","button","mat-icon-button","","isIconButton","true","aria-label","close dialog","tabindex","-1"],["mat-dialog-content",""],[1,"flex-space-col"],[1,"space-full"],["type","text","matInput","","formControlName","loginID","required","","minlength","3","maxlength","15",3,"readonly"],[4,"ngIf"],["type","text","matInput","","formControlName","username","required","","minlength","1","maxlength","30"],["type","text","matInput","","id","phone","formControlName","phone","maxlength","10","minlength","10","numbersOnly","","required",""],["type","password","matInput","","formControlName","password","required","","minlength","8","maxlength","15"],["type","password","matInput","","formControlName","cpassword","required","","minlength","8","maxlength","15",3,"errorStateMatcher"],["formControlName","finYear","required",""],["value","2018-2019"],["value","2019-2020"],["value","2020-2021"],[1,"space-full",2,"display","none"],["formControlName","status","required",""],[3,"value"],["mat-dialog-actions","","align","end"],["type","button","mat-stroked-button","","mat-dialog-close","","color","primary",2,"font-weight","bold"],["type","submit","mat-raised-button","","color","primary",2,"font-weight","bold",3,"disabled"]],template:function(t,e){1&t&&(l.Rb(0,"form",0),l.Yb("ngSubmit",function(){return e.save()}),l.Rb(1,"div",1),l.Rb(2,"div"),l.yc(3),l.Qb(),l.Rb(4,"div",2),l.Rb(5,"button",3),l.Rb(6,"mat-icon"),l.yc(7,"close"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(8,"div",4),l.Rb(9,"div",5),l.Rb(10,"mat-form-field",6),l.Rb(11,"mat-label"),l.yc(12,"Login ID"),l.Qb(),l.Mb(13,"input",7),l.wc(14,j,2,0,"mat-error",8),l.wc(15,_,2,0,"mat-error",8),l.wc(16,Y,2,0,"mat-error",8),l.Qb(),l.Rb(17,"mat-form-field",6),l.Rb(18,"mat-label"),l.yc(19,"Username"),l.Qb(),l.Mb(20,"input",9),l.wc(21,H,2,0,"mat-error",8),l.wc(22,z,2,0,"mat-error",8),l.wc(23,$,2,0,"mat-error",8),l.Qb(),l.Rb(24,"mat-form-field",6),l.Rb(25,"mat-label"),l.yc(26,"Phone"),l.Qb(),l.Mb(27,"input",10),l.wc(28,J,2,0,"mat-error",8),l.wc(29,X,2,0,"mat-error",8),l.Qb(),l.Rb(30,"mat-form-field",6),l.Rb(31,"mat-label"),l.yc(32,"Password"),l.Qb(),l.Mb(33,"input",11),l.wc(34,K,2,0,"mat-error",8),l.wc(35,W,2,0,"mat-error",8),l.Qb(),l.Rb(36,"mat-form-field",6),l.Rb(37,"mat-label"),l.yc(38,"Confirm Password"),l.Qb(),l.Mb(39,"input",12),l.wc(40,Z,2,0,"mat-error",8),l.wc(41,tt,2,0,"mat-error",8),l.Qb(),l.Rb(42,"mat-form-field",6),l.Rb(43,"mat-label"),l.yc(44,"Year"),l.Qb(),l.Rb(45,"mat-select",13),l.Rb(46,"mat-option",14),l.yc(47,"2018 - 2019"),l.Qb(),l.Rb(48,"mat-option",15),l.yc(49,"2019 - 2020"),l.Qb(),l.Rb(50,"mat-option",16),l.yc(51,"2020 - 2021"),l.Qb(),l.Qb(),l.wc(52,et,2,0,"mat-error",8),l.Qb(),l.Rb(53,"mat-form-field",17),l.Rb(54,"mat-label"),l.yc(55,"User Status"),l.Qb(),l.Rb(56,"mat-select",18),l.Rb(57,"mat-option",19),l.yc(58,"Active"),l.Qb(),l.Rb(59,"mat-option",19),l.yc(60,"Inactive"),l.Qb(),l.Qb(),l.wc(61,rt,2,0,"mat-error",8),l.Qb(),l.Qb(),l.Qb(),l.Rb(62,"div",20),l.Rb(63,"button",21),l.yc(64,"CLOSE"),l.Qb(),l.Rb(65,"button",22),l.yc(66,"SAVE\xa0"),l.Rb(67,"mat-icon"),l.yc(68,"save"),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&t&&(l.ic("formGroup",e.registrationForm),l.Ab(3),l.Ac("",e.pageMode," - User"),l.Ab(7),l.Db("cus-readonly",!e.isCreateMode),l.Ab(3),l.ic("readonly",!e.isCreateMode),l.Ab(1),l.ic("ngIf",e.loginID.hasError("required")),l.Ab(1),l.ic("ngIf",e.loginID.hasError("minlength")),l.Ab(1),l.ic("ngIf",e.loginID.hasError("userAlreadyExists")),l.Ab(5),l.ic("ngIf",e.username.hasError("required")),l.Ab(1),l.ic("ngIf",e.username.hasError("minlength")),l.Ab(1),l.ic("ngIf",e.username.hasError("userAlreadyExists")),l.Ab(5),l.ic("ngIf",e.phone.hasError("required")),l.Ab(1),l.ic("ngIf",e.phone.hasError("minlength")||e.phone.hasError("maxlength")),l.Ab(5),l.ic("ngIf",e.password.hasError("required")),l.Ab(1),l.ic("ngIf",e.password.hasError("minlength")),l.Ab(4),l.ic("errorStateMatcher",e.passwordErrorStateMatcher),l.Ab(1),l.ic("ngIf",e.cpassword.hasError("required")),l.Ab(1),l.ic("ngIf",e.registrationForm.hasError("pswdNotMatch")),l.Ab(11),l.ic("ngIf",e.finYear.hasError("required")),l.Ab(5),l.ic("value",e.userStatus.Active),l.Ab(2),l.ic("value",e.userStatus.Inactive),l.Ab(2),l.ic("ngIf",e.status.hasError("required")),l.Ab(4),l.ic("disabled",!e.registrationForm.valid||e.inProgress))},directives:[T.x,T.r,T.i,q.h,q.d,p.a,g.a,q.e,d.c,d.g,h.a,T.c,T.q,T.h,T.v,T.m,T.l,o.l,V.a,B.i,q.c,d.b],styles:[""]}),t})();class it{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))||!!(e&&e.errors&&e.errors.pswdNotMatch)}}let st=(()=>{class t{constructor(t,e,r){this.dialog=t,this.route=e,this.router=r}ngOnInit(){this.route.snapshot.data.pageMode===O.a.PAGE_MODE.CREATE?this.openCreateDialog():this.openEditDialog()}openCreateDialog(){this.dialog.open(ot,{width:"550px",role:"dialog",hasBackdrop:!0,disableClose:!0,restoreFocus:!1,data:{pageMode:O.a.PAGE_MODE.CREATE}}).afterClosed().subscribe(t=>{this.router.navigate([{outlets:{dialog:null}}])})}openEditDialog(){this.dialog.open(ot,{width:"550px",role:"dialog",hasBackdrop:!0,disableClose:!0,restoreFocus:!1,data:{pageMode:O.a.PAGE_MODE.EDIT,details:this.route.snapshot.data.details}}).afterClosed().subscribe(t=>{this.router.navigate([{outlets:{dialog:null}}])})}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(q.b),l.Lb(i.a),l.Lb(i.b))},t.\u0275cmp=l.Fb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var at=r("LRne"),nt=r("JIr8");let ct=(()=>{class t{constructor(t){this.userSrvc=t}resolve(t,e){const r=t.paramMap.get("id");return this.userSrvc.get(r).pipe(Object(nt.a)(()=>Object(at.a)(null)))}}return t.\u0275fac=function(e){return new(e||t)(l.Vb(m.j))},t.\u0275prov=l.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bt=(()=>{class t{constructor(t){this.userSrvc=t}resolve(t,e){const r=t.paramMap.get("id");return this.userSrvc.getPersmission(r).pipe(Object(nt.a)(()=>Object(at.a)(null)))}}return t.\u0275fac=function(e){return new(e||t)(l.Vb(m.j))},t.\u0275prov=l.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var lt=r("bSwM");function mt(t,e){if(1&t&&(l.Rb(0,"span",39),l.yc(1),l.Qb()),2&t){const t=l.cc();l.Ab(1),l.zc(t.errMsg)}}let ut=(()=>{class t{constructor(t,e,r,o){this.fb=t,this.userSrvc=e,this.dialogRef=r,this.data=o}ngOnInit(){this.userPermForm=this.fb.group({createAccount:this.fb.control(!1),editAccount:this.fb.control(!1),deleteAccount:this.fb.control(!1),viewListAccount:this.fb.control(!1),createInventory:this.fb.control(!1),editInventory:this.fb.control(!1),deleteInventory:this.fb.control(!1),viewListInventory:this.fb.control(!1),createGroup:this.fb.control(!1),editGroup:this.fb.control(!1),deleteGroup:this.fb.control(!1),viewListGroup:this.fb.control(!1),createGenVoucher:this.fb.control(!1),editGenVoucher:this.fb.control(!1),deleteGenVoucher:this.fb.control(!1),viewListGenVoucher:this.fb.control(!1),createUser:this.fb.control(!1),editUser:this.fb.control(!1),deleteUser:this.fb.control(!1),viewListUser:this.fb.control(!1),editUserPersmissions:this.fb.control(!1),generateReports:this.fb.control(!1),uploadFile:this.fb.control(!1),createBank:this.fb.control(!1),editBank:this.fb.control(!1),deleteBank:this.fb.control(!1),viewListBank:this.fb.control(!1),createProduct:this.fb.control(!1),viewListProduct:this.fb.control(!1)}),this.recordId=this.data.details._id,this.username=this.data.details.username,this.userPermForm.patchValue(this.data.details.permissions)}save(){if(this.errMsg="",!this.userPermForm.valid)return!1;this.inProgress=!0,this.userSrvc.updatePersmission(this.recordId,this.userPermForm.value).subscribe(t=>{this.inProgress=!1,this.dialogRef.close("saved")},t=>(this.inProgress=!1,this.errMsg=t,!1))}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(T.e),l.Lb(m.j),l.Lb(q.g),l.Lb(q.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-user-permissions"]],decls:130,vars:4,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title","",1,"flex-title"],["class","error",4,"ngIf"],["mat-dialog-close",""],["type","button","mat-icon-button","","isIconButton","true","aria-label","close dialog","tabindex","-1"],["mat-dialog-content",""],[2,"overflow","hidden"],["formControlName","createGroup","color","primary"],["formControlName","editGroup","color","primary"],["formControlName","deleteGroup","color","primary"],["formControlName","viewListGroup","color","primary"],["formControlName","createAccount","color","primary"],["formControlName","editAccount","color","primary"],["formControlName","deleteAccount","color","primary"],["formControlName","viewListAccount","color","primary"],["formControlName","createInventory","color","primary"],["formControlName","editInventory","color","primary"],["formControlName","deleteInventory","color","primary"],["formControlName","viewListInventory","color","primary"],["formControlName","createBank","color","primary"],["formControlName","editBank","color","primary"],["formControlName","deleteBank","color","primary"],["formControlName","viewListBank","color","primary"],["formControlName","createGenVoucher","color","primary"],["formControlName","editGenVoucher","color","primary"],["formControlName","deleteGenVoucher","color","primary"],["formControlName","viewListGenVoucher","color","primary"],["formControlName","generateReports","color","primary"],["formControlName","uploadFile","color","primary"],["formControlName","createUser","color","primary"],["formControlName","editUser","color","primary"],["formControlName","deleteUser","color","primary"],["formControlName","viewListUser","color","primary"],["formControlName","editUserPersmissions","color","primary"],["formControlName","createProduct","color","primary"],["formControlName","viewListProduct","color","primary"],["mat-dialog-actions",""],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-raised-button","","mat-dialog-close","","color","primary"],[1,"error"]],template:function(t,e){1&t&&(l.Rb(0,"form",0),l.Yb("ngSubmit",function(){return e.save()}),l.Rb(1,"div",1),l.Rb(2,"div"),l.yc(3),l.wc(4,mt,2,1,"span",2),l.Qb(),l.Rb(5,"div",3),l.Rb(6,"button",4),l.Rb(7,"mat-icon"),l.yc(8,"close"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(9,"div",5),l.Rb(10,"table",6),l.Rb(11,"tr"),l.Rb(12,"td"),l.yc(13,"Group"),l.Qb(),l.Rb(14,"td"),l.Rb(15,"mat-checkbox",7),l.yc(16,"Create"),l.Qb(),l.Qb(),l.Rb(17,"td"),l.Rb(18,"mat-checkbox",8),l.yc(19,"Edit"),l.Qb(),l.Qb(),l.Rb(20,"td"),l.Rb(21,"mat-checkbox",9),l.yc(22,"Delete"),l.Qb(),l.Qb(),l.Rb(23,"td"),l.Rb(24,"mat-checkbox",10),l.yc(25,"View List"),l.Qb(),l.Qb(),l.Qb(),l.Rb(26,"tr"),l.Rb(27,"td"),l.yc(28,"Account"),l.Qb(),l.Rb(29,"td"),l.Rb(30,"mat-checkbox",11),l.yc(31,"Create"),l.Qb(),l.Qb(),l.Rb(32,"td"),l.Rb(33,"mat-checkbox",12),l.yc(34,"Edit"),l.Qb(),l.Qb(),l.Rb(35,"td"),l.Rb(36,"mat-checkbox",13),l.yc(37,"Delete"),l.Qb(),l.Qb(),l.Rb(38,"td"),l.Rb(39,"mat-checkbox",14),l.yc(40,"View List"),l.Qb(),l.Qb(),l.Qb(),l.Rb(41,"tr"),l.Rb(42,"td"),l.yc(43,"Inventory"),l.Qb(),l.Rb(44,"td"),l.Rb(45,"mat-checkbox",15),l.yc(46,"Create"),l.Qb(),l.Qb(),l.Rb(47,"td"),l.Rb(48,"mat-checkbox",16),l.yc(49,"Edit"),l.Qb(),l.Qb(),l.Rb(50,"td"),l.Rb(51,"mat-checkbox",17),l.yc(52,"Delete"),l.Qb(),l.Qb(),l.Rb(53,"td"),l.Rb(54,"mat-checkbox",18),l.yc(55,"View List"),l.Qb(),l.Qb(),l.Qb(),l.Rb(56,"tr"),l.Rb(57,"td"),l.yc(58,"Cash/Bank"),l.Qb(),l.Rb(59,"td"),l.Rb(60,"mat-checkbox",19),l.yc(61,"Create"),l.Qb(),l.Qb(),l.Rb(62,"td"),l.Rb(63,"mat-checkbox",20),l.yc(64,"Edit"),l.Qb(),l.Qb(),l.Rb(65,"td"),l.Rb(66,"mat-checkbox",21),l.yc(67,"Delete"),l.Qb(),l.Qb(),l.Rb(68,"td"),l.Rb(69,"mat-checkbox",22),l.yc(70,"View List"),l.Qb(),l.Qb(),l.Qb(),l.Rb(71,"tr"),l.Rb(72,"td"),l.yc(73,"General Voucher"),l.Qb(),l.Rb(74,"td"),l.Rb(75,"mat-checkbox",23),l.yc(76,"Create"),l.Qb(),l.Qb(),l.Rb(77,"td"),l.Rb(78,"mat-checkbox",24),l.yc(79,"Edit"),l.Qb(),l.Qb(),l.Rb(80,"td"),l.Rb(81,"mat-checkbox",25),l.yc(82,"Delete"),l.Qb(),l.Qb(),l.Rb(83,"td"),l.Rb(84,"mat-checkbox",26),l.yc(85,"View List"),l.Qb(),l.Qb(),l.Qb(),l.Rb(86,"tr"),l.Rb(87,"td"),l.yc(88,"GST"),l.Qb(),l.Rb(89,"td"),l.Rb(90,"mat-checkbox",27),l.yc(91,"Generate"),l.Qb(),l.Qb(),l.Qb(),l.Rb(92,"tr"),l.Rb(93,"td"),l.yc(94,"Files"),l.Qb(),l.Rb(95,"td"),l.Rb(96,"mat-checkbox",28),l.yc(97,"Upload"),l.Qb(),l.Qb(),l.Qb(),l.Rb(98,"tr"),l.Rb(99,"td"),l.yc(100,"User"),l.Qb(),l.Rb(101,"td"),l.Rb(102,"mat-checkbox",29),l.yc(103,"Create"),l.Qb(),l.Qb(),l.Rb(104,"td"),l.Rb(105,"mat-checkbox",30),l.yc(106,"Edit"),l.Qb(),l.Qb(),l.Rb(107,"td"),l.Rb(108,"mat-checkbox",31),l.yc(109,"Delete"),l.Qb(),l.Qb(),l.Rb(110,"td"),l.Rb(111,"mat-checkbox",32),l.yc(112,"View List"),l.Qb(),l.Qb(),l.Rb(113,"td"),l.Rb(114,"mat-checkbox",33),l.yc(115,"Edit Permissions"),l.Qb(),l.Qb(),l.Qb(),l.Rb(116,"tr"),l.Rb(117,"td"),l.yc(118,"Product"),l.Qb(),l.Rb(119,"td"),l.Rb(120,"mat-checkbox",34),l.yc(121,"Create"),l.Qb(),l.Qb(),l.Rb(122,"td"),l.Rb(123,"mat-checkbox",35),l.yc(124,"List"),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(125,"div",36),l.Rb(126,"button",37),l.yc(127,"Save"),l.Qb(),l.Rb(128,"button",38),l.yc(129,"Close"),l.Qb(),l.Qb(),l.Qb()),2&t&&(l.ic("formGroup",e.userPermForm),l.Ab(3),l.Ac("",e.username," - Permissions "),l.Ab(1),l.ic("ngIf",e.errMsg),l.Ab(122),l.ic("disabled",!e.userPermForm.valid))},directives:[T.x,T.r,T.i,q.h,o.l,q.d,p.a,g.a,q.e,lt.a,T.q,T.h,q.c],styles:[""]}),t})();const dt=[{path:"list",canActivate:[s.a],component:G},{path:"create",canActivate:[s.a],data:{pageMode:O.a.PAGE_MODE.CREATE},component:st},{path:"edit/:id",canActivate:[s.a],data:{pageMode:O.a.PAGE_MODE.EDIT},component:st,resolve:{details:ct}},{path:"permission/:id",canActivate:[s.a],component:(()=>{class t{constructor(t,e,r){this.dialog=t,this.route=e,this.router=r}ngOnInit(){this.openEditDialog()}openEditDialog(){this.dialog.open(ut,{width:"800px",role:"dialog",hasBackdrop:!0,disableClose:!0,restoreFocus:!1,data:{details:this.route.snapshot.data.details}}).afterClosed().subscribe(t=>{this.router.navigate([{outlets:{dialog:null}}])})}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(q.b),l.Lb(i.a),l.Lb(i.b))},t.\u0275cmp=l.Fb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),resolve:{details:bt}}];let ht=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[i.d.forChild(dt)],i.d]}),t})();var pt=r("1+r1");let ft=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[o.c,T.u,pt.a,ht]]}),t})()}}]);