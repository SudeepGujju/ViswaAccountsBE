!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{E5bV:function(a,n,i){"use strict";i.r(n),i.d(n,"GstModule",function(){return G});var o=i("ofXK"),r=i("tyNb"),c=i("auXs"),l=i("M9IT"),s=i("Dh3D"),u=i("+0xr"),b=i("eIep"),f=i("fXoL"),m=i("o0su"),p=i("kmnG"),d=i("d3UM"),y=i("bTqV"),h=i("FKr1"),v=i("qFsG"),w=i("Qu3c"),g=i("NFeN");function D(t,e){if(1&t&&(f.Rb(0,"mat-option",10),f.yc(1),f.Qb()),2&t){var a=e.$implicit;f.ic("value",a),f.Ab(1),f.Ac(" ",a," ")}}function R(t,e){if(1&t){var a=f.Sb();f.Rb(0,"mat-form-field",2),f.Rb(1,"mat-label"),f.yc(2,"Filter Records"),f.Qb(),f.Rb(3,"input",11),f.Yb("keyup",function(t){return f.oc(a),f.cc().applyFilter(t.target.value)}),f.Qb(),f.Qb()}}function S(t,e){if(1&t){var a=f.Sb();f.Rb(0,"div"),f.Rb(1,"button",12),f.Yb("click",function(){return f.oc(a),f.cc().exportData()}),f.Rb(2,"mat-icon"),f.yc(3,"save_alt"),f.Qb(),f.Qb(),f.Qb()}}function k(t,e){if(1&t&&(f.Rb(0,"th",25),f.yc(1),f.Qb()),2&t){var a=f.cc().$implicit;f.Ab(1),f.Ac(" ",a.header," ")}}function T(t,e){if(1&t&&(f.Rb(0,"td",26),f.yc(1),f.Qb()),2&t){var a=e.$implicit,n=f.cc().$implicit;f.tc("text-align",n.align),f.Ab(1),f.zc(n.cell(a))}}function F(t,e){1&t&&(f.Pb(0,22),f.wc(1,k,2,1,"th",23),f.wc(2,T,2,3,"td",24),f.Ob()),2&t&&f.ic("matColumnDef",e.$implicit.columnDef)}function x(t,e){if(1&t&&(f.Rb(0,"td",27),f.yc(1," No Data Available "),f.Qb()),2&t){var a=f.cc(2);f.Bb("colspan",a.columnsToDisplay.length)}}function O(t,e){1&t&&f.Mb(0,"tr",28)}function C(t,e){1&t&&f.Mb(0,"tr",29)}function Q(t,e){if(1&t&&f.Mb(0,"tr",30),2&t){var a=f.cc(2);f.ic("hidden",!(0===a.tableDS.filteredData.length))}}var A=function(){return["noData"]},P=function(){return[5,10,15,20]};function I(t,e){if(1&t&&(f.Rb(0,"div",13),f.Rb(1,"table",14),f.wc(2,F,3,1,"ng-container",15),f.Pb(3,16),f.wc(4,x,2,1,"td",17),f.Ob(),f.wc(5,O,1,0,"tr",18),f.wc(6,C,1,0,"tr",19),f.wc(7,Q,1,1,"tr",20),f.Qb(),f.Mb(8,"mat-paginator",21),f.Qb()),2&t){var a=f.cc();f.Ab(1),f.ic("dataSource",a.tableDS),f.Ab(1),f.ic("ngForOf",a.columns),f.Ab(3),f.ic("matHeaderRowDef",a.columnsToDisplay)("matHeaderRowDefSticky",!0),f.Ab(1),f.ic("matRowDefColumns",a.columnsToDisplay),f.Ab(1),f.ic("matFooterRowDef",f.jc(7,A)),f.Ab(1),f.ic("pageSizeOptions",f.jc(8,P))}}var M,L,N,_=[{path:"",canActivate:[c.a],component:(M=function(){function a(e,n,i){t(this,a),this.rcrdSrvc=e,this.route=n,this.exportSrvc=i,this.filesList=[],this.tableDS=null,this.columnsToDisplay=[],this.columns=[],this.displayTable=!1}var n,i,o;return n=a,(i=[{key:"ngOnInit",value:function(){var t=this;this.route.queryParamMap.pipe(Object(b.a)(function(e){return t.reportType=e.get("reportType"),t.filesList=[],t.destroyTable(),t.rcrdSrvc.getFilesList()})).subscribe(function(e){t.filesList=e},function(t){console.log(t)})}},{key:"loadFile",value:function(t){var e=this;if(!t)return alert("Please select file name"),!1;this.destroyTable(),this.rcrdSrvc.getFileData(t,this.reportType).subscribe(function(t){e.generateTable(t)},function(t){console.log(t)})}},{key:"generateTable",value:function(t){var e=["BillCount"];if(t.length>0){var a=[];Object.keys(t[0]).forEach(function(t,n){a.push({columnDef:t,header:t.toUpperCase(),cell:function(a){return e.indexOf(t)>=0||isNaN(a[t])?""+a[t]:parseFloat(a[t]).toFixed(2)},align:"left"})}),this.columns=a,this.columnsToDisplay=a.map(function(t){return t.columnDef}),this.tableDS=new u.o(t),this.displayTable=!0}}},{key:"applyFilter",value:function(t){this.tableDS.filter=t}},{key:"destroyTable",value:function(){this.displayTable=!1,this.tableDS=null}},{key:"exportData",value:function(){var t=this.reportType+"_"+Date.now();this.exportSrvc.exportAsExcelFile(this.tableDS.filteredData,t)}},{key:"matPaginator",set:function(t){t&&(this.tableDS.paginator=t)}},{key:"matSort",set:function(t){t&&(this.tableDS.sort=t)}}])&&e(n.prototype,i),o&&e(n,o),a}(),M.\u0275fac=function(t){return new(t||M)(f.Lb(m.i),f.Lb(r.a),f.Lb(m.d))},M.\u0275cmp=f.Fb({type:M,selectors:[["gst-reports"]],viewQuery:function(t,e){var a;1&t&&(f.Dc(l.a,!0),f.Dc(s.a,!0)),2&t&&(f.lc(a=f.Zb())&&(e.matPaginator=a.first),f.lc(a=f.Zb())&&(e.matSort=a.first))},decls:15,vars:5,consts:[[1,"flex-space","align-left"],[1,"space-2","mat-title"],[1,"space-2","mr-05"],["fileControl",""],[3,"value",4,"ngFor","ngForOf"],[1,"space-1","mr-1"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","space-2 mr-05",4,"ngIf"],[4,"ngIf"],["class","container mat-elevation-z8",4,"ngIf"],[3,"value"],["matInput","","type","text",3,"keyup"],["type","button","mat-mini-fab","","color","primary","matTooltip","Download List",3,"click"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","noData"],["mat-footer-cell","",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","style","text-align: center;",3,"hidden",4,"matFooterRowDef"],["pageSize","10","showFirstLastButtons","",3,"pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"text-align",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row","",2,"text-align","center",3,"hidden"]],template:function(t,e){if(1&t){var a=f.Sb();f.Rb(0,"div",0),f.Rb(1,"div",1),f.yc(2),f.Qb(),f.Rb(3,"mat-form-field",2),f.Rb(4,"mat-label"),f.yc(5,"File"),f.Qb(),f.Rb(6,"mat-select",null,3),f.wc(8,D,2,2,"mat-option",4),f.Qb(),f.Qb(),f.Rb(9,"div",5),f.Rb(10,"button",6),f.Yb("click",function(){f.oc(a);var t=f.mc(7);return e.loadFile(t.value)}),f.yc(11,"Load File"),f.Qb(),f.Qb(),f.wc(12,R,4,0,"mat-form-field",7),f.wc(13,S,4,0,"div",8),f.Qb(),f.wc(14,I,9,9,"div",9)}2&t&&(f.Ab(2),f.Ac(" ",e.reportType," Report "),f.Ab(6),f.ic("ngForOf",e.filesList),f.Ab(4),f.ic("ngIf",e.displayTable),f.Ab(1),f.ic("ngIf",e.displayTable),f.Ab(1),f.ic("ngIf",e.displayTable))},directives:[p.c,p.g,d.a,o.k,y.a,o.l,h.i,v.a,w.a,g.a,u.n,s.a,u.c,u.e,u.k,u.m,u.g,l.a,u.i,u.b,u.h,s.b,u.a,u.d,u.j,u.l,u.f],styles:[".mat-header-cell[_ngcontent-%COMP%]{text-align:center}.mat-column-GSTIN[_ngcontent-%COMP%], .mat-column-SUPPLIER[_ngcontent-%COMP%]{flex:0 0 140px!important;width:140px!important}.mat-column-GSTIN[_ngcontent-%COMP%], .mat-column-INVNO[_ngcontent-%COMP%], .mat-column-SUPPLIER[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;overflow-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-INVNO[_ngcontent-%COMP%]{flex:0 0 110px!important;width:110px!important}"]}),M)}],j=((L=function e(){t(this,e)}).\u0275mod=f.Jb({type:L}),L.\u0275inj=f.Ib({factory:function(t){return new(t||L)},imports:[[r.d.forChild(_)],r.d]}),L),z=i("1+r1"),E=i("3Pt+"),G=((N=function e(){t(this,e)}).\u0275mod=f.Jb({type:N}),N.\u0275inj=f.Ib({factory:function(t){return new(t||N)},imports:[[o.c,E.u,z.a,j]]}),N)}}])}();