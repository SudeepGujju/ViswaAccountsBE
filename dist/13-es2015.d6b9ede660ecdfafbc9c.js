(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/z4q":function(t,e,o){"use strict";o.r(e),o.d(e,"GlModule",function(){return ee});var r=o("ofXK"),i=o("tyNb"),c=o("3Pt+"),a=o("I2v7"),n=o("8pgC"),s=o("8edw"),b=o("Kj3r"),l=o("/uUt"),m=o("JX91"),f=o("lJxs"),u=o("wd/R");function d(t){return u(t).format("DD/MM/YYYY")}var h=o("fXoL"),p=o("lGQG"),g=o("flj8"),D=o("LGoc"),R=o("tk/3");let y=(()=>{class t{constructor(t){this.http=t}prepare(){return this.http.get(D.q)}getAccountCopyList(t,e,o){return this.http.get(D.o,{params:{fromDate:t,toDate:e,code:o}})}getTrailBalanceList(){return this.http.get(D.t)}getTradingList(t){return this.http.get(D.s,{params:{closingStock:t}})}getProfitNLossList(t,e){return this.http.get(D.r,{params:{grossLoss:t,grossProfit:e}})}getBalanceSheetList(t){return this.http.get(D.p,{params:{closingStock:t}})}}return t.\u0275fac=function(e){return new(e||t)(h.Vb(R.b))},t.\u0275prov=h.Hb({token:t,factory:t.\u0275fac}),t})();var w=o("WNGt"),Q=o("/1cH"),A=o("kmnG"),S=o("qFsG"),v=o("tmjD"),C=o("bTqV"),L=o("Qu3c"),x=o("NFeN"),N=o("FKr1");function P(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter code "),h.Qb())}function k(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter valid code "),h.Qb())}function F(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter date "),h.Qb())}function O(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter valid date "),h.Qb())}function T(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter date in range "),h.Qb())}function I(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter date "),h.Qb())}function E(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter valid date "),h.Qb())}function M(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," Enter date in range "),h.Qb())}function Y(t,e){1&t&&(h.Rb(0,"mat-error"),h.yc(1," To date cannot exceed From date "),h.Qb())}function z(t,e){if(1&t&&(h.Rb(0,"mat-option",16),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.ic("value",t.code),h.Ab(1),h.Ac(" ",t.firmName+(t.town.length>0?" - "+t.town:""),"")}}function B(t,e){if(1&t&&(h.Rb(0,"tr"),h.Rb(1,"td"),h.yc(2),h.Qb(),h.Rb(3,"td"),h.yc(4),h.Qb(),h.Rb(5,"td"),h.yc(6),h.Qb(),h.Rb(7,"td",19),h.yc(8),h.dc(9,"number"),h.Qb(),h.Rb(10,"td",19),h.yc(11),h.dc(12,"number"),h.Qb(),h.Rb(13,"td",19),h.yc(14),h.Qb(),h.Qb()),2&t){const t=e.$implicit;h.Ab(2),h.zc(t.date),h.Ab(2),h.zc(t.no),h.Ab(2),h.zc(t.desc),h.Ab(2),h.zc(h.fc(9,6,t.credit,".2-2")),h.Ab(3),h.zc(h.fc(12,9,t.debit,".2-2")),h.Ab(3),h.zc(t.balance)}}function j(t,e){if(1&t&&(h.Rb(0,"div",17),h.Rb(1,"table"),h.Rb(2,"thead"),h.Rb(3,"tr"),h.Rb(4,"th"),h.yc(5,"Date"),h.Qb(),h.Rb(6,"th"),h.yc(7,"No"),h.Qb(),h.Rb(8,"th"),h.yc(9,"Description"),h.Qb(),h.Rb(10,"th"),h.yc(11,"Credit"),h.Qb(),h.Rb(12,"th"),h.yc(13,"Debit"),h.Qb(),h.Rb(14,"th"),h.yc(15,"Balance"),h.Qb(),h.Qb(),h.Qb(),h.Rb(16,"tbody"),h.wc(17,B,15,12,"tr",18),h.Qb(),h.Qb(),h.Qb()),2&t){const t=h.cc();h.Ab(17),h.ic("ngForOf",t.recordsList)}}let q=(()=>{class t{constructor(t,e,o,r,i){this.fb=t,this.authSrvc=e,this.accountSrvc=o,this.glSrvc=r,this.alrtSrvc=i,this.shopsList=[],this.recordsList=null,this.defaultDate=Object(s.d)()}ngOnInit(){this.accountSrvc.getDropdownList().subscribe(t=>{this.shopsList=t},t=>{console.log(t)}),this.dateErrorStateMatcher=new a.a("errorFromToDate"),this.accountCopyForm=this.fb.group({fromDate:[d(this.authSrvc.finYearStart),[c.w.required,c.w.maxLength(14),Object(n.a)(this.authSrvc.finYearStart,this.authSrvc.finYearEnd)]],toDate:[d(this.authSrvc.finYearEnd),[c.w.required,c.w.maxLength(14),Object(n.a)(this.authSrvc.finYearStart,this.authSrvc.finYearEnd)]],code:["",[c.w.required,c.w.maxLength(10)]]},{validators:[Object(n.b)("fromDate","toDate")]}),this.filteredOption=this.code.valueChanges.pipe(Object(b.a)(300),Object(l.a)(),Object(m.a)(""),Object(f.a)(t=>t?this._filter(t):this.shopsList.slice()))}get fromDate(){return this.accountCopyForm.get("fromDate")}get toDate(){return this.accountCopyForm.get("toDate")}get code(){return this.accountCopyForm.get("code")}_filter(t){const e=t.toLowerCase();return this.shopsList.filter(t=>t.firmName.toLowerCase().includes(e)||t.code.toLowerCase().includes(e))}validateNSetCode(t,e,o){o.value="";const r=this.shopsList.find(e=>e.code.toLowerCase()===t.toLowerCase());r?o.value=r.firmName:""!=t&&e.setErrors({InvalidCode:!0})}search(){this.inProgress=!0,this.glSrvc.getAccountCopyList(this.fromDate.value,this.toDate.value,this.code.value).subscribe(t=>{this.inProgress=!1,this.recordsList=t},t=>{this.inProgress=!1,this.recordsList=null,this.alrtSrvc.showErrorAlert(t)})}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(c.e),h.Lb(p.a),h.Lb(g.a),h.Lb(y),h.Lb(w.b))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-account-copy"]],decls:40,vars:22,consts:[[3,"formGroup"],["matAutocompleteOrigin","",1,"flex-space","align-left"],["codeOrigin","matAutocompleteOrigin"],[1,"mat-title","mr-05"],[1,"space-2","mr-05"],["type","text","matInput","","formControlName","code","maxlength","10","uppercase","","required","",3,"matAutocomplete","matAutocompleteConnectedTo","blur"],[4,"ngIf"],["type","text","matInput","","maxlength","50","tabindex","-1","readonly","",3,"disabled"],["firmName",""],["type","text","matInput","","formControlName","fromDate","maxlength","14","required","","placeholder","DD/MM/YYYY","mask","00/00/0000",3,"validation"],["type","text","matInput","","formControlName","toDate","maxlength","14","required","","placeholder","DD/MM/YYYY","mask","00/00/0000",3,"validation","errorStateMatcher"],[3,"autoActiveFirstOption","optionActivated","optionSelected"],["autoCode","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-mini-fab","","color","primary","matTooltip","Search","matTooltipPosition","after",3,"disabled","click"],["style","max-height: 400px; overflow-y: auto;",4,"ngIf"],[3,"value"],[2,"max-height","400px","overflow-y","auto"],[4,"ngFor","ngForOf"],[2,"text-align","right"]],template:function(t,e){if(1&t){const t=h.Sb();h.Rb(0,"form",0),h.Rb(1,"div",1,2),h.Rb(3,"div",3),h.yc(4," Account Copy "),h.Qb(),h.Rb(5,"mat-form-field",4),h.Rb(6,"mat-label"),h.yc(7,"Code"),h.Qb(),h.Rb(8,"input",5),h.Yb("blur",function(o){h.oc(t);const r=h.mc(15);return e.validateNSetCode(o.target.value,e.code,r)}),h.Qb(),h.wc(9,P,2,0,"mat-error",6),h.wc(10,k,2,0,"mat-error",6),h.Qb(),h.Rb(11,"mat-form-field",4),h.Rb(12,"mat-label"),h.yc(13,"Firm Name"),h.Qb(),h.Mb(14,"input",7,8),h.Qb(),h.Rb(16,"mat-form-field",4),h.Rb(17,"mat-label"),h.yc(18,"From Date"),h.Qb(),h.Mb(19,"input",9),h.wc(20,F,2,0,"mat-error",6),h.wc(21,O,2,0,"mat-error",6),h.wc(22,T,2,0,"mat-error",6),h.Qb(),h.Rb(23,"mat-form-field",4),h.Rb(24,"mat-label"),h.yc(25,"To Date"),h.Qb(),h.Mb(26,"input",10),h.wc(27,I,2,0,"mat-error",6),h.wc(28,E,2,0,"mat-error",6),h.wc(29,M,2,0,"mat-error",6),h.wc(30,Y,2,0,"mat-error",6),h.Qb(),h.Rb(31,"mat-autocomplete",11,12),h.Yb("optionActivated",function(o){h.oc(t);const r=h.mc(15);return e.validateNSetCode(o.option.value,e.code,r)})("optionSelected",function(o){h.oc(t);const r=h.mc(15);return e.validateNSetCode(o.option.value,e.code,r)}),h.wc(33,z,2,2,"mat-option",13),h.dc(34,"async"),h.Qb(),h.Rb(35,"div"),h.Rb(36,"button",14),h.Yb("click",function(){return e.search()}),h.Rb(37,"mat-icon"),h.yc(38,"search"),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.wc(39,j,18,1,"div",15)}if(2&t){const t=h.mc(2),o=h.mc(32);h.ic("formGroup",e.accountCopyForm),h.Ab(8),h.ic("matAutocomplete",o)("matAutocompleteConnectedTo",t),h.Ab(1),h.ic("ngIf",e.code.hasError("required")),h.Ab(1),h.ic("ngIf",e.code.hasError("InvalidCode")),h.Ab(4),h.ic("disabled",e.accountCopyForm.disabled),h.Ab(5),h.ic("validation",!1),h.Ab(1),h.ic("ngIf",e.fromDate.hasError("required")),h.Ab(1),h.ic("ngIf",e.fromDate.hasError("errorDateValue")),h.Ab(1),h.ic("ngIf",e.fromDate.hasError("errorDateRange")),h.Ab(4),h.ic("validation",!1)("errorStateMatcher",e.dateErrorStateMatcher),h.Ab(1),h.ic("ngIf",e.toDate.hasError("required")),h.Ab(1),h.ic("ngIf",e.toDate.hasError("errorDateValue")),h.Ab(1),h.ic("ngIf",e.toDate.hasError("errorDateRange")),h.Ab(1),h.ic("ngIf",e.accountCopyForm.hasError("errorFromToDate")),h.Ab(1),h.ic("autoActiveFirstOption",!0),h.Ab(2),h.ic("ngForOf",h.ec(34,20,e.filteredOption)),h.Ab(3),h.ic("disabled",!e.accountCopyForm.valid||e.inProgress),h.Ab(3),h.ic("ngIf",e.recordsList)}},directives:[c.x,c.r,c.i,Q.c,A.c,A.g,S.a,c.c,s.c,Q.d,c.q,c.h,c.l,c.v,r.l,v.a,Q.a,r.k,C.a,L.a,x.a,A.b,N.i],pipes:[r.b,r.e],styles:[""]}),t})();function H(t,e){1&t&&(h.Rb(0,"h1"),h.yc(1,"Preparing GL"),h.Qb())}function G(t,e){1&t&&(h.Rb(0,"h1"),h.yc(1,"GL Complete"),h.Qb())}function $(t,e){1&t&&(h.Rb(0,"h1"),h.yc(1,"Preparing GL Failed"),h.Qb())}let _=(()=>{class t{constructor(t){this.glSrvc=t,this.glPrepareStatus=0}ngOnInit(){this.glSrvc.prepare().subscribe(t=>{this.glPrepareStatus=1},t=>{console.log(t),this.glPrepareStatus=2})}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(y))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-prepare"]],decls:4,vars:3,consts:[[2,"text-align","center"],[4,"ngIf"]],template:function(t,e){1&t&&(h.Rb(0,"div",0),h.wc(1,H,2,0,"h1",1),h.wc(2,G,2,0,"h1",1),h.wc(3,$,2,0,"h1",1),h.Qb()),2&t&&(h.Ab(1),h.ic("ngIf",0==e.glPrepareStatus),h.Ab(1),h.ic("ngIf",1==e.glPrepareStatus),h.Ab(1),h.ic("ngIf",2==e.glPrepareStatus))},directives:[r.l],styles:[""]}),t})();var J=o("+0xr"),V=o("Dh3D"),K=o("o0su");function Z(t,e){1&t&&(h.Rb(0,"th",27),h.Rb(1,"strong"),h.yc(2,"Code"),h.Qb(),h.Qb())}function X(t,e){if(1&t&&(h.Rb(0,"td",28),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.code)}}function W(t,e){1&t&&(h.Rb(0,"th",27),h.Rb(1,"strong"),h.yc(2,"Firm Name"),h.Qb(),h.Qb())}function U(t,e){if(1&t&&(h.Rb(0,"td",28),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.firmName)}}function tt(t,e){1&t&&(h.Rb(0,"th",27),h.Rb(1,"strong"),h.yc(2,"Town"),h.Qb(),h.Qb())}function et(t,e){if(1&t&&(h.Rb(0,"td",28),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.town)}}function ot(t,e){1&t&&(h.Rb(0,"th",29),h.Rb(1,"strong"),h.yc(2,"Credit"),h.Qb(),h.Qb())}function rt(t,e){if(1&t&&(h.Rb(0,"td",30),h.yc(1),h.dc(2,"number"),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(h.fc(2,1,t.credit,".2-2"))}}function it(t,e){1&t&&(h.Rb(0,"th",29),h.Rb(1,"strong"),h.yc(2,"Debit"),h.Qb(),h.Qb())}function ct(t,e){if(1&t&&(h.Rb(0,"td",30),h.yc(1),h.dc(2,"number"),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(h.fc(2,1,t.debit,".2-2"))}}function at(t,e){if(1&t&&(h.Rb(0,"td",31),h.yc(1," No Data Available "),h.Qb()),2&t){const t=h.cc();h.Bb("colspan",t.columnsToDisplay.length)}}function nt(t,e){1&t&&h.Mb(0,"td",32),2&t&&h.Bb("colspan",3)}function st(t,e){if(1&t&&(h.Rb(0,"td",33),h.Rb(1,"strong"),h.yc(2),h.dc(3,"number"),h.Qb(),h.Qb()),2&t){const t=h.cc();h.Ab(2),h.zc(h.fc(3,1,t.totalCredit,".2-2"))}}function bt(t,e){if(1&t&&(h.Rb(0,"td",33),h.Rb(1,"strong"),h.yc(2),h.dc(3,"number"),h.Qb(),h.Qb()),2&t){const t=h.cc();h.Ab(2),h.zc(h.fc(3,1,t.totalDebit,".2-2"))}}function lt(t,e){1&t&&h.Mb(0,"tr",34)}function mt(t,e){1&t&&h.Mb(0,"tr",35)}function ft(t,e){1&t&&h.Mb(0,"tr",36)}const ut=function(){return["noData"]},dt=function(){return["totalBalance","totalCredit","totalDebit"]};let ht=(()=>{class t{constructor(t,e,o,r,i){this.glSrvc=t,this.alrtSrvc=e,this.exportSrvc=o,this.authSrvc=r,this.route=i,this.exportColumns=["code","firmName","town","Credit","Debit"],this.columnsToDisplay=["code","firmName","town","Credit","Debit"],this.totalCredit=0,this.totalDebit=0}ngOnInit(){this.trailBalanceListDS=new J.o,this.refresh()}ngAfterViewInit(){this.trailBalanceListDS.sort=this.sort}trackList(t,e){return e.code}applyFilter(t){this.trailBalanceListDS.filter=t}exportData(){const t=this.authSrvc.user.username+"_opening_trail_bal_"+Date.now(),e={code:"",firmName:"",town:"",credit:this.totalCredit,debit:this.totalDebit},o=[].concat({code:"Code",firmName:"Firm Name",town:"Town",credit:"Credit",debit:"Debit"}).concat(this.trailBalanceListDS.filteredData).concat(e);this.exportSrvc.exportAsExcelFile(o,t,{filterKeys:this.exportColumns,skipHeader:!0})}refresh(){this.glSrvc.getTrailBalanceList().subscribe(t=>{this.trailBalanceListDS.data=this.formatData(t)},t=>{this.alrtSrvc.showErrorAlert(t)})}formatData(t){return t.forEach((t,e)=>{this.totalCredit=+this.totalCredit.toFixed(2)+t.credit,this.totalDebit=+this.totalDebit.toFixed(2)+t.debit}),t}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(y),h.Lb(w.b),h.Lb(K.d),h.Lb(K.b),h.Lb(i.a))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-trail-balance"]],viewQuery:function(t,e){if(1&t&&(h.Dc(V.a,!0),h.Dc(J.n,!0)),2&t){let t;h.lc(t=h.Zb())&&(e.sort=t.first),h.lc(t=h.Zb())&&(e.table=t.first)}},decls:43,vars:10,consts:[[1,"flex-space","align-left"],[1,"mat-title","mr-05"],[1,"space-7","mr-05"],["matInput","","type","text",3,"keyup"],["type","button","mat-mini-fab","","color","primary","matTooltip","Refresh List",3,"click"],["type","button","mat-mini-fab","","color","primary","matTooltip","Download List",3,"disabled","click"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource","trackBy"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firmName"],["matColumnDef","town"],["matColumnDef","Credit"],["mat-header-cell","","mat-sort-header","","class","align-right",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["matColumnDef","Debit"],["matColumnDef","noData"],["mat-footer-cell","","data-export","false",4,"matFooterCellDef"],["matColumnDef","totalBalance"],["mat-footer-cell","","data-export","true",4,"matFooterCellDef"],["matColumnDef","totalCredit"],["mat-footer-cell","","data-export","true","style","text-align: right;",4,"matFooterCellDef"],["matColumnDef","totalDebit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","style","text-align: center;",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"align-right"],["mat-cell","",2,"text-align","right"],["mat-footer-cell","","data-export","false"],["mat-footer-cell","","data-export","true"],["mat-footer-cell","","data-export","true",2,"text-align","right"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",2,"text-align","center"]],template:function(t,e){1&t&&(h.Rb(0,"div",0),h.Rb(1,"div",1),h.yc(2," Trial Balance "),h.Qb(),h.Rb(3,"mat-form-field",2),h.Rb(4,"mat-label"),h.yc(5,"Filter"),h.Qb(),h.Rb(6,"input",3),h.Yb("keyup",function(t){return e.applyFilter(t.target.value)}),h.Qb(),h.Qb(),h.Rb(7,"div"),h.Rb(8,"button",4),h.Yb("click",function(){return e.refresh()}),h.Rb(9,"mat-icon"),h.yc(10,"refresh"),h.Qb(),h.Qb(),h.yc(11," \xa0 "),h.Rb(12,"button",5),h.Yb("click",function(){return e.exportData()}),h.Rb(13,"mat-icon"),h.yc(14,"save_alt"),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.Rb(15,"div",6),h.Rb(16,"table",7),h.Pb(17,8),h.wc(18,Z,3,0,"th",9),h.wc(19,X,2,1,"td",10),h.Ob(),h.Pb(20,11),h.wc(21,W,3,0,"th",9),h.wc(22,U,2,1,"td",10),h.Ob(),h.Pb(23,12),h.wc(24,tt,3,0,"th",9),h.wc(25,et,2,1,"td",10),h.Ob(),h.Pb(26,13),h.wc(27,ot,3,0,"th",14),h.wc(28,rt,3,4,"td",15),h.Ob(),h.Pb(29,16),h.wc(30,it,3,0,"th",14),h.wc(31,ct,3,4,"td",15),h.Ob(),h.Pb(32,17),h.wc(33,at,2,1,"td",18),h.Ob(),h.Pb(34,19),h.wc(35,nt,1,1,"td",20),h.Ob(),h.Pb(36,21),h.wc(37,st,4,4,"td",22),h.Ob(),h.Pb(38,23),h.wc(39,bt,4,4,"td",22),h.Ob(),h.wc(40,lt,1,0,"tr",24),h.wc(41,mt,1,0,"tr",25),h.wc(42,ft,1,0,"tr",26),h.Qb(),h.Qb()),2&t&&(h.Ab(12),h.ic("disabled",0===e.trailBalanceListDS.filteredData.length),h.Ab(4),h.ic("dataSource",e.trailBalanceListDS)("trackBy",e.trackList),h.Ab(24),h.ic("matHeaderRowDef",e.columnsToDisplay)("matHeaderRowDefSticky",!0),h.Ab(1),h.ic("matRowDefColumns",e.columnsToDisplay),h.Ab(1),h.ic("matFooterRowDef",0===e.trailBalanceListDS.filteredData.length?h.jc(8,ut):h.jc(9,dt))("matFooterRowDefSticky",!0))},directives:[A.c,A.g,S.a,C.a,L.a,x.a,J.n,V.a,J.c,J.i,J.b,J.e,J.k,J.m,J.g,J.h,V.b,J.a,J.d,J.j,J.l,J.f],pipes:[r.e],styles:[""]}),t})();var pt=o("M9IT"),gt=o("W/PH");function Dt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",9),h.Yb("click",function(){return h.oc(t),h.cc(2).goToNextStage()}),h.yc(1),h.Rb(2,"mat-icon"),h.yc(3,"navigate_next"),h.Qb(),h.Qb()}if(2&t){h.cc();const t=h.mc(9),e=h.cc();h.ic("disabled",t.invalid),h.Ab(1),h.zc(e.nextStageName)}}const Rt=function(){return{allowDecimal:!0,allowNegative:!1,setDefaultValue:!0}};function yt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",2),h.Rb(1,"div",3),h.Rb(2,"h2",4),h.yc(3," Enter Closing Stock "),h.Qb(),h.Qb(),h.Rb(4,"div",3),h.Rb(5,"mat-form-field",5),h.Rb(6,"mat-label"),h.yc(7,"Closing Stock"),h.Qb(),h.Rb(8,"input",6,7),h.Yb("ngModelChange",function(e){return h.oc(t),h.cc().closingStock=e}),h.Qb(),h.Qb(),h.wc(10,Dt,4,2,"button",8),h.Qb(),h.Qb()}if(2&t){const t=h.cc();h.Ab(8),h.ic("ngModel",t.closingStock)("numbersOnly",h.jc(3,Rt)),h.Ab(2),h.ic("ngIf",t.nextStageName.length>0)}}function wt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",35),h.Yb("click",function(){return h.oc(t),h.cc(2).goToPreviousStage()}),h.Rb(1,"mat-icon"),h.yc(2,"navigate_before"),h.Qb(),h.yc(3),h.Qb()}if(2&t){const t=h.cc(2);h.Ab(3),h.zc(t.previousStageName)}}function Qt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",36),h.Yb("click",function(){return h.oc(t),h.cc(2).goToNextStage()}),h.yc(1),h.Rb(2,"mat-icon"),h.yc(3,"navigate_next"),h.Qb(),h.Qb()}if(2&t){const t=h.cc(2);h.Ab(1),h.zc(t.nextStageName)}}function At(t,e){1&t&&(h.Rb(0,"th",37),h.Rb(1,"strong"),h.yc(2,"Debit Code"),h.Qb(),h.Qb())}function St(t,e){if(1&t&&(h.Rb(0,"td",38),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.DbCode)}}function vt(t,e){1&t&&(h.Rb(0,"td",39),h.Rb(1,"strong"),h.yc(2,"Total Debit"),h.Qb(),h.Qb())}function Ct(t,e){1&t&&(h.Rb(0,"th",37),h.Rb(1,"strong"),h.yc(2,"Debit Account"),h.Qb(),h.Qb())}function Lt(t,e){if(1&t&&(h.Rb(0,"td",38),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.DbAccName)}}function xt(t,e){1&t&&(h.Rb(0,"td",39),h.Rb(1,"strong"),h.yc(2,"\xa0"),h.Qb(),h.Qb())}function Nt(t,e){1&t&&(h.Rb(0,"th",37),h.Rb(1,"strong"),h.yc(2,"Debit Amount"),h.Qb(),h.Qb())}function Pt(t,e){if(1&t&&(h.Rb(0,"td",38),h.yc(1),h.dc(2,"number"),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(h.fc(2,1,t.DbAmount,".2-2"))}}function kt(t,e){if(1&t&&(h.Rb(0,"td",39),h.Rb(1,"strong"),h.yc(2),h.dc(3,"number"),h.Qb(),h.Qb()),2&t){const t=h.cc(2);h.Ab(2),h.zc(h.fc(3,1,t.totalDebit,".2-2"))}}function Ft(t,e){1&t&&(h.Rb(0,"th",37),h.Rb(1,"strong"),h.yc(2,"Credit Code"),h.Qb(),h.Qb())}function Ot(t,e){if(1&t&&(h.Rb(0,"td",38),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.CrCode)}}function Tt(t,e){1&t&&(h.Rb(0,"td",39),h.Rb(1,"strong"),h.yc(2,"Total Credit"),h.Qb(),h.Qb())}function It(t,e){1&t&&(h.Rb(0,"th",37),h.Rb(1,"strong"),h.yc(2,"Credit Account"),h.Qb(),h.Qb())}function Et(t,e){if(1&t&&(h.Rb(0,"td",38),h.yc(1),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(t.CrAccName)}}function Mt(t,e){1&t&&(h.Rb(0,"td",39),h.Rb(1,"strong"),h.yc(2,"\xa0"),h.Qb(),h.Qb())}function Yt(t,e){1&t&&(h.Rb(0,"th",37),h.Rb(1,"strong"),h.yc(2,"Credit Amount"),h.Qb(),h.Qb())}function zt(t,e){if(1&t&&(h.Rb(0,"td",38),h.yc(1),h.dc(2,"number"),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.zc(h.fc(2,1,t.CrAmount,".2-2"))}}function Bt(t,e){if(1&t&&(h.Rb(0,"td",39),h.Rb(1,"strong"),h.yc(2),h.dc(3,"number"),h.Qb(),h.Qb()),2&t){const t=h.cc(2);h.Ab(2),h.zc(h.fc(3,1,t.totalCredit,".2-2"))}}function jt(t,e){if(1&t&&(h.Rb(0,"td",40),h.yc(1," No Data Available "),h.Qb()),2&t){const t=h.cc(2);h.Bb("colspan",t.columnsToDisplay.length)}}function qt(t,e){if(1&t&&(h.Rb(0,"td",39),h.yc(1),h.Qb()),2&t){const t=h.cc(2);h.Bb("colspan",2),h.Ab(1),h.Ac(" ",t.profitLabel," ")}}function Ht(t,e){if(1&t&&(h.Rb(0,"td",39),h.yc(1),h.dc(2,"number"),h.Qb()),2&t){const t=h.cc(2);h.Ab(1),h.Ac(" ",h.fc(2,1,t.profitAmount,".2-2")," ")}}function Gt(t,e){if(1&t&&(h.Rb(0,"td",39),h.yc(1),h.Qb()),2&t){const t=h.cc(2);h.Bb("colspan",2),h.Ab(1),h.Ac(" ",t.lossLabel," ")}}function $t(t,e){if(1&t&&(h.Rb(0,"td",39),h.yc(1),h.dc(2,"number"),h.Qb()),2&t){const t=h.cc(2);h.Ab(1),h.Ac(" ",h.fc(2,1,t.lossAmount,".2-2")," ")}}function _t(t,e){1&t&&h.Mb(0,"tr",41)}function Jt(t,e){1&t&&h.Mb(0,"tr",42)}function Vt(t,e){1&t&&h.Mb(0,"tr",43)}function Kt(t,e){1&t&&h.Mb(0,"tr",43)}const Zt=function(){return["noData"]};function Xt(t,e){if(1&t&&(h.Rb(0,"div"),h.Rb(1,"div",10),h.Rb(2,"div",11),h.yc(3),h.Qb(),h.Rb(4,"div",12),h.wc(5,wt,4,1,"button",13),h.wc(6,Qt,4,1,"button",14),h.Qb(),h.Qb(),h.Rb(7,"div",15),h.Rb(8,"table",16),h.Pb(9,17),h.wc(10,At,3,0,"th",18),h.wc(11,St,2,1,"td",19),h.wc(12,vt,3,0,"td",20),h.Ob(),h.Pb(13,21),h.wc(14,Ct,3,0,"th",18),h.wc(15,Lt,2,1,"td",19),h.wc(16,xt,3,0,"td",20),h.Ob(),h.Pb(17,22),h.wc(18,Nt,3,0,"th",18),h.wc(19,Pt,3,4,"td",19),h.wc(20,kt,4,4,"td",20),h.Ob(),h.Pb(21,23),h.wc(22,Ft,3,0,"th",18),h.wc(23,Ot,2,1,"td",19),h.wc(24,Tt,3,0,"td",20),h.Ob(),h.Pb(25,24),h.wc(26,It,3,0,"th",18),h.wc(27,Et,2,1,"td",19),h.wc(28,Mt,3,0,"td",20),h.Ob(),h.Pb(29,25),h.wc(30,Yt,3,0,"th",18),h.wc(31,zt,3,4,"td",19),h.wc(32,Bt,4,4,"td",20),h.Ob(),h.Pb(33,26),h.wc(34,jt,2,1,"td",27),h.Ob(),h.Pb(35,28),h.wc(36,qt,2,2,"td",20),h.Ob(),h.Pb(37,29),h.wc(38,Ht,3,4,"td",20),h.Ob(),h.Pb(39,30),h.wc(40,Gt,2,2,"td",20),h.Ob(),h.Pb(41,31),h.wc(42,$t,3,4,"td",20),h.Ob(),h.wc(43,_t,1,0,"tr",32),h.wc(44,Jt,1,0,"tr",33),h.wc(45,Vt,1,0,"tr",34),h.wc(46,Kt,1,0,"tr",34),h.Qb(),h.Qb(),h.Qb()),2&t){const t=h.cc();h.Ab(3),h.Ac(" ",t.currentReportName," "),h.Ab(2),h.ic("ngIf",t.previousStageName.length>0),h.Ab(1),h.ic("ngIf",t.nextStageName.length>0),h.Ab(2),h.ic("dataSource",t.financialListDS),h.Ab(35),h.ic("matHeaderRowDef",t.columnsToDisplay)("matHeaderRowDefSticky",!0),h.Ab(1),h.ic("matRowDefColumns",t.columnsToDisplay),h.Ab(1),h.ic("matFooterRowDef",0===t.financialListDS.filteredData.length?h.jc(11,Zt):t.footerColumnsToDisplay)("matFooterRowDefSticky",!0),h.Ab(1),h.ic("matFooterRowDef",t.columnsToDisplay)("matFooterRowDefSticky",!0)}}const Wt=[{path:"prepare",component:_},{path:"account",component:q},{path:"trail-balance",component:ht},{path:"financials",component:(()=>{class t{constructor(t,e){this.glSrvc=t,this.alrtSrvc=e,this.columnsToDisplay=["DbCode","DbAccName","DbAmount","CrCode","CrAccName","CrAmount"],this.footerColumnsToDisplay=["Profit","ProfitAmount","Loss","LossAmount"],this.currentReport=0,this.currentReportName="",this.nextStageName="",this.previousStageName="",this.profitLabel="",this.profitAmount="",this.lossLabel="",this.lossAmount="",this.closingStock="0.00",this.totalCredit="",this.totalDebit="",this.grossLoss="",this.grossProfit="",this.netLoss="",this.netProfit=""}set matPaginator(t){t&&(this.financialListDS.paginator=t)}set matSort(t){t&&(this.financialListDS.sort=t)}ngOnInit(){this.financialListDS=new J.o,this.gotoReport()}getTradingList(){this.glSrvc.getTradingList(this.closingStock).subscribe(t=>{this.financialListDS.data=this.formatData(t.tradingList),this.totalDebit=t.totalDebit,this.totalCredit=t.totalCredit,this.grossProfit=t.grossProfit,this.grossLoss=t.grossLoss,this.profitLabel="Gross Profit",this.profitAmount=""+this.grossProfit,this.lossLabel="Gross Loss",this.lossAmount=""+this.grossLoss,this.footerColumnsToDisplay=["Profit","ProfitAmount","Loss","LossAmount"]},t=>{this.alrtSrvc.showErrorAlert(t)})}getProfitNLossList(){this.glSrvc.getProfitNLossList(this.grossLoss,this.grossProfit).subscribe(t=>{this.financialListDS.data=this.formatData(t.profitNLossList),this.totalDebit=t.totalDebit,this.totalCredit=t.totalCredit,this.netProfit=t.netProfit,this.netLoss=t.netLoss,this.profitLabel="Net Profit",this.profitAmount=""+this.netProfit,this.lossLabel="Net Loss",this.lossAmount=""+this.netLoss,this.footerColumnsToDisplay=["Profit","ProfitAmount","Loss","LossAmount"]},t=>{this.alrtSrvc.showErrorAlert(t)})}getBalanceSheetList(){this.glSrvc.getBalanceSheetList(this.closingStock).subscribe(t=>{this.financialListDS.data=this.formatData(t.balanceSheetList),this.totalDebit=t.totalDebit,this.totalCredit=t.totalCredit,this.profitLabel=this.profitAmount=this.lossLabel=this.lossAmount="",this.footerColumnsToDisplay=[]},t=>{this.alrtSrvc.showErrorAlert(t)})}formatData(t){return t}gotoReport(){switch(this.currentReport){case 0:this.currentReportName="",this.previousStageName="",this.nextStageName="Trading";break;case 1:this.currentReportName="Trading",this.previousStageName="Change Closing Stock",this.nextStageName="Profit And Loss",this.getTradingList();break;case 2:this.currentReportName="Profit And Loss",this.nextStageName="Balance Sheet",this.previousStageName="Trading",this.getProfitNLossList();break;case 3:this.currentReportName="Balance Sheet",this.nextStageName="",this.previousStageName="Profit And Loss",this.getBalanceSheetList()}}goToNextStage(){this.currentReport=this.currentReport+1,this.gotoReport()}goToPreviousStage(){this.currentReport=this.currentReport-1,this.gotoReport()}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(y),h.Lb(gt.b))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-financial"]],viewQuery:function(t,e){if(1&t&&(h.Dc(pt.a,!0),h.Dc(V.a,!0)),2&t){let t;h.lc(t=h.Zb())&&(e.matPaginator=t.first),h.lc(t=h.Zb())&&(e.matSort=t.first)}},decls:3,vars:3,consts:[["style","width: 100%;height: 80vh;flex-direction: column;justify-content: center;text-align: center;display: flex;",4,"ngIf"],[4,"ngIf"],[2,"width","100%","height","80vh","flex-direction","column","justify-content","center","text-align","center","display","flex"],[2,"width","100%"],[2,"font-weight","initial"],[1,"mr-05",2,"width","25%"],["type","text","matInput","","maxlength","15","required","",3,"ngModel","numbersOnly","ngModelChange"],["closingStockFld","ngModel"],["type","button","class","reduce-right-pad","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["type","button","mat-raised-button","","color","primary",1,"reduce-right-pad",3,"disabled","click"],[1,"flex-space","align-left"],[1,"space-full-1-5","mat-title"],[1,"space-full-8-5","flex"],["type","button","class","reduce-left-pad","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["type","button","class","reduce-right-pad","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","DbCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","DbAccName"],["matColumnDef","DbAmount"],["matColumnDef","CrCode"],["matColumnDef","CrAccName"],["matColumnDef","CrAmount"],["matColumnDef","noData"],["mat-footer-cell","","style","text-align: center;",4,"matFooterCellDef"],["matColumnDef","Profit"],["matColumnDef","ProfitAmount"],["matColumnDef","Loss"],["matColumnDef","LossAmount"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["type","button","mat-raised-button","","color","primary",1,"reduce-left-pad",3,"click"],["type","button","mat-raised-button","","color","primary",1,"reduce-right-pad",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-footer-cell",""],["mat-footer-cell","",2,"text-align","center"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(h.Rb(0,"div"),h.wc(1,yt,11,4,"div",0),h.wc(2,Xt,47,12,"div",1),h.Qb()),2&t&&(h.ic("@animSlider",e.currentReport),h.Ab(1),h.ic("ngIf",0==e.currentReport),h.Ab(1),h.ic("ngIf",e.currentReport>0))},directives:[r.l,A.c,A.g,S.a,c.c,s.a,c.l,c.v,c.q,c.t,C.a,x.a,J.n,V.a,J.c,J.i,J.b,J.e,J.k,J.m,J.g,J.h,V.b,J.a,J.d,J.j,J.l,J.f],pipes:[r.e],styles:[""]}),t})()}];let Ut=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},imports:[[i.d.forChild(Wt)],i.d]}),t})();var te=o("1+r1");let ee=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},providers:[y],imports:[[r.c,c.k,c.u,te.a,s.b,Ut,v.b.forChild()]]}),t})()}}]);